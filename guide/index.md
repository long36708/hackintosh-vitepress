# 新手引导

## 系统篇

**麦金塔什电脑/Macintosh**：麦金塔什是音译，指苹果公司推出的个人电脑系列，取名于一种苹果品种（McIntosh），和砸到牛顿的苹果、艾兰·图灵自杀的苹果没有关系。

麦金塔什项目早期在苹果内部研发代号为“安妮”（Annie），为了和一个音频制造商（McIntosh
Laboratory）名称有所区别，苹果早期一名部门经理杰夫·拉斯金根据其个人喜欢的苹果品种将其改名为 Macintosh。

（以上部分内容出自乔布斯传）

Macintosh 简称 Mac；另外你也可能会看到“Hackintosh”这个词，在英文世界中特指的就是“黑苹果”，这是一个组合词：Hack + Macintosh =
Hackintosh。

**macOS**：苹果公司于1984年推出的个人电脑操作系统，推出时就具有图形化界面（Graphic User Interface），而微软的Windows
1.0在1985年才发布。

OS 指的是 Operating System，直译就是操作系统。

扩展阅读：[操作系统图形化界面的发展简史](https://heipg.cn/link/aHR0cHM6Ly93d3cub3NjaGluYS5uZXQvcXVlc3Rpb24vMzAzNjJfMzYwNA==)。

- 苹果操作系统最早的名称为 Mac OS System，于 2001 年发布了第十个大版本，并改名为：Mac OS X，所以这里的“X”指的是罗马数字“10”；
- 截止目前，Mac OS X 分支更新了15个大版本，在第8个大版本时改名为OS X，第12个大版本时更名为 macOS，与苹果公司的
  iOS、tvOS、watchOS 相呼应。到第16个大版本时，苹果公司放弃了 10.x 形式命名，标志着苹果公司希望开启新的 macOS 时代，各大版本大体信息如下：
    - Mac OS X 10.0 Cheetah（猎豹，2001年3月）
    - Mac OS X 10.1 Puma（美洲狮，2001年9月）

    - Mac OS X 10.2 Jaguar（美洲豹，2002年8月）

    - Mac OS X 10.3 Panther（黑豹，2003年10月）

    - Mac OS X 10.4 Tiger（老虎，部分型号转向英特尔处理器，2005年4月）

    - Mac OS X 10.5 Leopard（豹，支持64位处理器，不再支持PowerPC硬件和Mac OS Classic环境，2007年10月）

    - Mac OS X 10.6 Snow Leopard（雪豹，从这个版本开始全面转向英特尔处理器，2009年8月）

    - Mac OS X 10.7 Lion（狮子，2011年7月）

    - OS X 10.8 Mountain Lion（山狮，这个版本开始简化名称为OS X，2012年7月）

    - OS X 10.9 Mavericks（冲浪湾，加州的一处海滩；从该版本开始系统更新免费为Mac用户提供，2013年10月）

    - OS X 10.10 Yosemite（优美胜地，加州的Yosemite国家公园；UI设计风格开始由拟物转为扁平，2014年6月）

    - OS X 10.11 El Capitan（酋长石，位于Yosemite国家公园里；从这个版本开始算是进入现代化操作系统，目前仍有用户；2015年6月）

    - macOS 10.12 Sierra（塞拉山脉；这个版本开始更名为macOS；2016年6月）

    - macOS 10.13 High Sierra（更高的塞拉山脉😂；需要驱动的N卡支持终结版本，2017年6月）

    - macOS 10.14 Mojave（莫哈维，沙漠，位于加利福尼亚东南部；加入了黑暗模式，2018年6月）

    - macOS 10.15 Catalina（卡特琳娜，岛屿，位于南加州外海；2019年6月）

    - macOS 11.0 Big
      Sur（从西班牙语“El_SurGrande”演变而来，原意为“大南区”，这里指加州一个叫“大瑟尔”的镇，那里有一段约90英里美国最美公路之一；从该版本开始苹果公司转向A系列自研芯片（ARM架构）；该版本对_
      macOS 的 UI、图标及自带程序进行了重新设计；2020年6月）。至此，时间跨度长达 19 年之久的 10.x 版本结束更新，macOS 迈向新时代。
    - macOS 12.0 Monterey（蒙特雷市，位于加州南部，进一步丰富了各个苹果设备间的连接互动操作，免驱的N卡支持终结版本，2021年6月）
    - macOS 13.0 Ventura（文图拉，加州中部海岸的一座城市，砍掉了大量英特尔 x86 机型支持，添加前台调度功能，2022年6月）
    - macOS 14.0 Sonoma（索诺吗，指的是加州索诺玛县，这里因盛产葡萄酒而闻名。该版本删除了IO80211LegacyFamily，导致截止当时所有市面可以买到的博通网卡都不再免驱，2023年6月）

**黑苹果**：苹果公司推出的操作系统 macOS 本来只应该安装在苹果自家的Mac电脑上，白苹果一般就是指 Mac+macOS。

macOS 可以通过使用一些第三方引导工具（如Clover、OpenCore）安装到普通个人电脑上（台式机/笔记本/一体机/Mini电脑），所以 PC+macOS
称之为黑苹果。

早期的Mac使用IBM的PowerPC架构处理器，难以安装到普通个人电脑，但从Mac全面转向使用 x86
架构的英特尔处理器后，安装门槛就大大降低；尽管如此，黑苹果终究不可能达到100%的白苹果还原度，完美的黑苹果是不存在的，只能无限接近。

**.app**：macOS系统文件后缀名，是 Application 的缩写，意为程序/应用。

99%的macOS的应用程序为 .app 的形式存在。app 可以在其图标上右键，选择“显示包内容”查看app内部的资源文件，可以理解成各个程序专用的文件夹，macOS
应用程序采用沙箱模式设计，确保各个
app 不能访问其他 app 的文件夹。

在macOS中 .app 可以直接双击运行，在Windows中其显示为文件夹形式。

**.kext**：macOS系统文件后缀名，意思是 Kernel Extension，翻译为“内核扩展”，在 macOS 里主要作用是驱动程序。

黑苹果如果不加干涉的话，macOS原有的 kext 是不会正常工作的，所以在黑苹果安装调试阶段需要接触大量的第三方 kext
文件，解决各类硬件（如网卡、显卡、声卡）的工作运行问题，[黑苹果需要的基本 kext 看这里](https://heipg.cn/tutorial/what-is-kext.html)。

**ACPI**：Advanced Configuration and Power Management Interface，一般翻译成高级配置与电源管理接口，由英特尔、惠普、微软、Phoenix
和东芝制订提出，其中最为广泛认可的就是电源管理标准。ACPI中包含了DSDT和SSDT信息，对于黑苹果来说，ACPI里会涉及睿频/休眠/显卡控制等重要功能。

每套个人电脑理论上都具有不同的ACPI，有时候即使是同一厂家的同一产品，也会因为BIOS版本、内存大小、设置差异等，造成ACPI的不同，所以ACPI需要自行提取。

苹果公司的Mac产品并不完全支持ACPI规范，但其中DSDT功能是完整支持的，所以涉及硬件方面 kext 难以搞定的问题一般通过修改DSDT解决。

ACPI文件可以在Windows、Linux下提取，黑苹果也可以通过Clover提取，在Clover引导页面按下F4（笔记本注意也可能是Fn+F4），按下后不会有任何提示，Clover会把提取到的ACPI文件放到
`/EFI/Clover/ACPI/origin`。

**DSDT**：The Differentiated System Description Table，字面翻译是“差异系统描述表”，是ACPI规范的一部分。

其包含了所有除基本系统以外所有不同设备的信息，也就是每台计算机设备的基本系统是相同的，而不相同的设备用DSDT来描述。

和 Windows 相反，macOS 的驱动是被动驱动，需要让系统知道存在这个硬件且知道硬件位置，所以修改DSDT的主要目的就是让macOS识别存在这个硬件并告诉系统硬件位置，以便让系统内置的驱动来使硬件工作。

**SSDT**：System Services Descriptor Table，字面翻译是“系统服务描述符表”，是 ACPI 规范的一部分。

SSDT相当于系统内部API（Application Programming Interface，应用程序接口）的指向标，作用就是告诉系统，需要调用的API在什么地方。

在黑苹果中，SSDT里的信息主要关于处理器电源管理、USB、显卡等相关信息。

针对DSDT打补丁，将使设备的控制尽量向白苹果靠近，解决稳定性并提升性能。

**HFS**：Hierarchical File System，分层文件系统，是一种由苹果公司开发，并使用在 Mac OS X 上的文件系统。

最初用于软盘和硬盘，同时也可以在在只读媒体如 CD-ROM 上见到。后被 HFS+ 文件系统替代。

**HFS+**：Hierarchical File System Plus，是苹果公司为替代他们的分层文件系统（HFS）而开发的一种文件系统。

它被用在苹果自家的 Macintosh 或者其他运行 Mac OS X 的电脑上。它也是 iPod 上使用的其中一种格式。

HFS+也被称为 Mac OS Extended 和 HFS Extended。HFS+ 是一个 HFS 的改进版本，支持更大的文件，并用 Unicode 来命名文件或文件夹，代替了
Mac OS Roman 或其他一些字符集。

目前，HFS+ 能用于安装 macOS 10.13 及以下版本系统。

**APFS**：Apple File System，翻译为苹果文件系统，简称 APFS。

是一个用于 macOS、iOS、tvOS 和 watchOS 的文件系统，由苹果公司开发和使用。

它的设计目的是解决 HFS+ 文件系统的核心问题。APFS 针对闪存和固态存储设备进行了针对性优化，改进了很多性能方面的设计。

目前 macOS 10.14 及以上版本默认使用该文件系统。

APFS 最初于 macOS Sierra 中开始提供，但存在一些限制：

- 使用 macOS Sierra 格式化所得到的磁盘可能并不会与未来版本的 macOS 兼容，并也可能不与 macOS 的最终版本兼容。
- APFS 的可用选项有“区分大小写”，“加密”，“区分大小写，加密”。
- 关于 Time Machine：macOS Catalina 10.15 及先前版本不能备份到 APFS 格式的磁盘，而在 macOS Big Sur 中支持备份至 APFS
  格式的硬盘。
- macOS 10.14 以下的系统不兼容 Fusion Drive。
- 在macOS的磁盘工具中，可通过“菜单-编辑-转换为 APFS ”无损把 HFS+ 分区转换为 APFS 分区，但不能无损把 APFS 分区转换回 HFS+
  分区。

「注意」HFS、HFS+、APFS 均不支持安装 Windows 系统，Windows 主要使用的 NTFS 文件系统也并不支持安装 macOS。

想使用单个硬盘安装两种系统的同学请务必牢记。

另外，Windows 和 macOS 同时都支持读和写的文件系统是 ExFat，但此文件系统因设计原理的原因，存储小文件时比较浪费硬盘空间，也存在文件丢失的可能性。

所以重要的文件建议多处备份，或自行组建 NAS 或存储阵列。

## 引导篇

**EFI分区**：全称是EFI System Partition（ESP），是一个使用FAT16或FAT32的系统引导物理分区，支持EFI模式的电脑需要从ESP分区启动系统，EFI固件可从ESP加载EFI启动程序或者应用。

目前主流的Clover安装的黑苹果，普遍使用ESP+UEFI的方式引导macOS。

由于相同硬件配置的黑苹果Clover EFI文件存在一定程度上的通用性，所以也有通过使用其他人分享的EFI进行黑苹果安装的方法。

[查看百科](https://heipg.cn/link/aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9FRkklRTclQjMlQkIlRTclQkIlOUYlRTUlODglODYlRTUlOEMlQkEvMjMzMTU5ODk/ZnI9YWxhZGRpbg==)。

**EFI**：其实全称应该是UEFI（Unified Extensible Firmware Interface，统一可扩展固件接口），是一种类似BIOS（Basic Input & Output System，基本输入输出系统）但支持更多高级功能的引导固件，简单来说是一种引导操作系统使用的技术。

2010年以后出厂的电脑，基本都使用了该技术引导操作系统。[查看百科](https://heipg.cn/link/aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclQkIlOUYlRTQlQjglODAlRTUlOEYlQUYlRTYlODklQTklRTUlQjElOTUlRTUlOUIlQkElRTQlQkIlQjYlRTYlOEUlQTUlRTUlOEYlQTMvMjI3ODYyMzM/ZnJvbXRpdGxlPVVFRkkmYW1wO2Zyb21pZD0zNTU2MjQwJmFtcDtmcj1hbGFkZGlu)。

**Ozmosis**：是一款基于BIOS固件制作的启动引导固件，说白了就是把固件刷入到BIOS里，直接通过BIOS来引导硬盘来启动，支持安装和运行黑苹果系统。目前已被Clover取代。

**Chameleon**：国内称之为变色龙，是一款操作系统引导程序，主要用于安装黑苹果系统，目前已被Clover取代。

**Clover**：一款开源的系统引导程序，国内称之为四叶草。Clover本身理论上可以引导很多操作系统，但目前应用最多的就是安装黑苹果。教程很多，门槛较低，适合新手。

r5123 版本及以上集成了 OpenCore 核心，可以说，已经几乎被 OpenCore 取代了。因 Clover 有很多隐藏的自动应用的 ACPI 热补丁，所以特殊机型方面 Clover 安装成功率比 OpenCore 要高一点，除此之外，推荐使用 OpenCore。

**OpenCore**：一款开源的系统引导程序，相比Clover其设计理念更为先进，具有多种优势。按目前的情况来说几乎已经取代 Clover，成为安装黑苹果的首选。

AMD的处理器搭配内核仿冒补丁，使用OpenCore安装黑苹果较为容易。目前已经有非常多的教程和资料，推荐使用。


## 工具篇

[**Clover Configurator.app**](https://heipg.cn/tag/Clover-Configurator)：第三方推出的一款针对Clover的配置程序，主要是为Clover配置文件 config.plist 提供了图形化的配置功能，使用Clover安装的黑苹果必备。

[**OpenCore Configurator.app**](https://heipg.cn/tag/OpenCore-Configurator)：简称 OCC，是第三方推出的一款针对OpenCore的配置程序，主要是为OpenCore配置文件 config.plist 提供了图形化的配置功能，目前正处于疯狂更新版本的状态以适配OpenCore。虽然确实一定程度上降低了OpenCore的门槛，但其自动生成的某些配置可能会造成莫名其妙的问题，可是亦不能忽略其带来的便利性，这个问题仁者见仁智者见智。

**[OCAuxiliaryTools.app](https://heipg.cn/tag/ocauxiliarytools)**：简称 OCAT，是第三方推出的 OpenCore 配置工具中的后起之秀，优点是拥有跨平台客户端，支持 Windows、macOS 和 Linux，拥有图形界面，操作比较直观；缺点是功能排版上稍显凌乱，和 OCC 一样偶尔会出现污染配置文件的情况，使用前注意备份。

[**MaciASL.app**](https://heipg.cn/apps/maciasl-1-5-7.html)：一款第三方开发的用于编译和修改ACPI文件的实用工具，该工具使用objective—c语言和Cocoa框架编写，能在 macOS 下稳定运行，还可以添加在线补丁源，有效的帮助用户解决ACPI文件的编译问题，同时对于DSDT文件的修改也能支持更加便捷化的操作，是黑苹果安装的必备工具。但DSDT编辑门槛较高，没有一定的编程基础和悟性根本没法用，不适合新手。

[**Hackintool.app**](https://heipg.cn/tag/hackintool)：一款由 @headkaze 制作的黑苹果专用工具，堪称黑苹果的瑞士军刀，主要用于核显修复/USB定制/KextToPatch/系统各类信息获取等，黑苹果必备。

[**Plistedit Pro.app**](https://heipg.cn/apps/plistedit-pro-1-9-1.html)：一款第三方推出的专门用于编辑 .plist 文件的工具。 .plist 是macOS广泛使用的储存用户设置的文件扩展名，其本质上是一个 xml 文件，可以用多种代码编辑软件打开。但使用此类专门工具可以尽量避免错误编辑的产生。新手建议学习一点[XML标记语言基础教程](https://heipg.cn/link/aHR0cHM6Ly93d3cucnVub29iLmNvbS94bWwveG1sLXR1dG9yaWFsLmh0bWw=)，好处多多。

[**ProperTree.app**](https://heipg.cn/apps/propertree-for-plist-editting.html)：类似 Plistedit Pro，也是一款用于编辑 .plist 的工具，区别在于这个是开源的，设计上大道至简，其他方面是否有优势笔者暂时没有体会出来。

[**IORegistryExplorer.app**](https://heipg.cn/apps/ioregistryexplorer-3-0-2-14.html)：可能被部分人简称为 ioreg，其所导出的文件也是 .ioreg 后缀。是一款用于检查Mac硬件信息的工具，功能非常强大全面，提供设备树状结构图。一般用于定制DSDT/SSDT以及相应的排错。

[**HiDPi**](https://heipg.cn/tutorial/hackintosh-fonts-blurry-fix.html)：其中Hi = High，DPi 指的是每英寸长度内的像素点数（Dots Per Inch）。苹果公司最早于iPhone 4时推出了Retina Display的概念，通过大量提升每英寸像素量达到“细腻”的显示效果。

由于黑苹果往往配备Mac不具备的显示设备和工作方式，几乎可以说，只要不是4k显示器，安装黑苹果后一定会遇到字体模糊的问题，这时可以[通过这些方法解决](https://heipg.cn/tutorial/hackintosh-fonts-blurry-fix.html)。

[**RDM.app**](https://heipg.cn/apps/rdm-2-2.html)：全称是Resolution Display Manager，意思是“分辨率显示管理器”。由于 macOS 简化了显示器分辨率管理功能，所以RDM在黑苹果中的主要作用是调整出特殊的HiDPi分辨率。同类软件有SwitchResX、[Display Maestro](https://heipg.cn/apps/display-maestro-3-0-5.html)等
